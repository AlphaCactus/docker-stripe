# NGINX reverse proxy to allow multiple Docker Apache containers to be accessed on port 80
# via localhost or domain name configured for the local_dns server

# Info on how this is set up at these websites which also have info on adding https and multi host configurations
# https://hub.docker.com/r/jwilder/nginx-proxy
# http://jasonwilder.com/blog/2014/03/25/automated-nginx-reverse-proxy-for-docker/

FROM jwilder/nginx-proxy

# support for very large headers so this is added to the configs for any vhosts that are
# generated by the proxy servers auto config
RUN mkdir '/etc/nginx/vhost.d'
RUN { \
      echo 'proxy_buffer_size          128k;'; \
      echo 'proxy_buffers            4 256k;'; \
      echo 'proxy_busy_buffers_size    256k;'; \
    } > /etc/nginx/vhost.d/default
